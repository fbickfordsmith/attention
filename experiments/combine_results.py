"""
Combine results files generated by programs run on separate GPUs.
"""

type_context = input('Context type in {diff, sem, sim, size}: ')
version_weights = input('Version number (weights): ')
id_context = f'{type_context}_v{version_weights}'

import os, sys
sys.path.append('..')

import pandas as pd
from utils.paths import path_repo

path_results = path_repo/'data/results/'
path_save = path_results/f'{id_context}_results.csv'

filenames = sorted([f for f in os.listdir(path_results) if id_context in f])

df = pd.concat(
    [pd.read_csv(path_results/f, index_col=0) for f in filenames],
    ignore_index=True)

df.to_csv(path_save)
